"use strict";(self.webpackChunkyoutube_client_app=self.webpackChunkyoutube_client_app||[]).push([[63],{5063:(C,l,i)=>{i.r(l),i.d(l,{AdminModule:()=>x});var p=i(7133),e=i(6223),u=i(2032),m=i(1941),d=i(6814),c=i(2296),f=i(617),h=i(6208),t=i(5879);const T=o=>new Date(o.value).getTime()>Date.now()?{dateInFuture:!0}:null;var v=i(2169),y=i(6985),Z=i(2490);function A(o,s){if(1&o&&(t.ynx(0),t.TgZ(1,"label",9),t._uU(2),t.qZA(),t.TgZ(3,"mat-form-field"),t._UZ(4,"input",10),t.TgZ(5,"mat-error"),t._uU(6),t.qZA()(),t.BQk()),2&o){const n=s.$implicit,r=t.oxw();t.xp6(1),t.Q6J("for",n),t.xp6(1),t.Oqu(n),t.xp6(2),t.Q6J("type","creationDate"!==n?"text":"date")("id",n)("formControlName",n),t.xp6(2),t.Oqu(r.getError(n))}}function b(o,s){if(1&o&&(t.ynx(0),t.TgZ(1,"label",9),t._uU(2,"tag"),t.qZA(),t.TgZ(3,"mat-form-field"),t._UZ(4,"input",11),t.TgZ(5,"mat-error"),t._uU(6,"Tag is required"),t.qZA()(),t.BQk()),2&o){const n=s.index;t.xp6(1),t.MGl("for","tag",n,""),t.xp6(3),t.MGl("id","tag",n,""),t.Q6J("formControlName",n)}}const F=[{path:"",component:(()=>{class o{constructor(){this.class="flex justify-center py-8",this.fb=(0,t.f3M)(e.j3),this.adminForm=this.fb.group({title:["",[e.kI.required,e.kI.minLength(3),e.kI.maxLength(20)]],description:["",[e.kI.maxLength(255)]],img:["",e.kI.required],video:["",e.kI.required],creationDate:["",[e.kI.required,T]],tags:this.fb.array([this.fb.control("",{validators:e.kI.required})])}),this.entries=["title","description","img","video","creationDate"],this.store=(0,t.f3M)(v.yh)}getError(n){const r=this.adminForm.controls[n];switch(!0){case r.hasError("required"):return`Please enter a ${"img"!==n&&"video"!==n?n:`link to the ${n}`}`;case r.hasError("minlength"):return`The ${n} is too short`;case r.hasError("maxlength"):return`The ${n} is too long`;case r.hasError("dateInFuture"):return`The ${n} is is invalid`;default:return null}}addTag(){this.adminForm.controls.tags.push(this.fb.control("",{validators:e.kI.required}))}reset(){this.adminForm.reset(),this.adminForm.controls.tags.clear(),this.adminForm.controls.tags.push(this.fb.control("",{validators:e.kI.required}))}submit(){this.adminForm.invalid||this.store.dispatch((0,y.t)(this.adminForm.value))}static#t=this.\u0275fac=function(r){return new(r||o)};static#n=this.\u0275cmp=t.Xpm({type:o,selectors:[["admin-page"]],hostVars:2,hostBindings:function(r,a){2&r&&t.Tol(a.class)},decls:14,vars:4,consts:[[1,"flex","flex-col","bg-slate-200","p-8","w-1/3",3,"formGroup","ngSubmit"],[4,"ngFor","ngForOf"],["formArrayName","tags"],[1,"flex","justify-between"],["type","button","mat-mini-fab","","color","primary",3,"disabled","click"],["fontIcon","plus_one"],[1,"flex","justify-between","mt-4"],["type","button","effect","raised",3,"click"],["effect","raised","color","primary","type","submit"],[1,"capitalize",3,"for"],["matInput","",3,"type","id","formControlName"],["type","text","required","","matInput","",3,"id","formControlName"]],template:function(r,a){1&r&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return a.submit()}),t.TgZ(1,"h2"),t._uU(2,"Create new card"),t.qZA(),t.YNc(3,A,7,6,"ng-container",1),t.ynx(4,2),t.YNc(5,b,7,3,"ng-container",1),t.BQk(),t.TgZ(6,"div",3)(7,"button",4),t.NdJ("click",function(){return a.addTag()}),t._UZ(8,"mat-icon",5),t.qZA()(),t.TgZ(9,"div",6)(10,"app-button",7),t.NdJ("click",function(){return a.reset()}),t._uU(11,"Reset"),t.qZA(),t.TgZ(12,"app-button",8),t._uU(13,"Create card"),t.qZA()()()),2&r&&(t.Q6J("formGroup",a.adminForm),t.xp6(3),t.Q6J("ngForOf",a.entries),t.xp6(2),t.Q6J("ngForOf",a.adminForm.controls.tags.controls),t.xp6(2),t.Q6J("disabled",5===a.adminForm.controls.tags.length))},dependencies:[e._Y,e.Fj,e.JJ,e.JL,e.Q7,e.sg,e.u,e.CE,u.Nt,m.KE,m.TO,d.sg,c.nh,f.Hw,Z.r],encapsulation:2})}return o})()}];let x=(()=>{class o{static#t=this.\u0275fac=function(r){return new(r||o)};static#n=this.\u0275mod=t.oAB({type:o});static#e=this.\u0275inj=t.cJS({imports:[p.Bz.forChild(F),e.u5,e.UX,u.c,m.lN,d.ez,c.ot,f.Ps,h.m]})}return o})()}}]);